<div class="min-h-screen flex items-center justify-center bg-background px-4">
    <form id="register-form" class="relative bg-base-100 p-8 rounded-box shadow-md w-full max-w-md space-y-6"
        (ngSubmit)="onSubmit(registerForm)" #registerForm="ngForm">
        <!-- Back Arrow Button -->
        <button type="button" (click)="navigateToLogin()" class="absolute top-4 left-4 text-muted hover:text-primary"
            aria-label="Back to Home">
            <!-- Heroicon: Arrow Left -->
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
            </svg>
        </button>

        <!-- User Icon -->
        <div class="flex justify-center">
            <div class="bg-accentGreen rounded-full p-3">
                <!-- Heroicon: User Circle -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-strongText" fill="none"
                    viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M5.121 17.804A9.968 9.968 0 0112 15c2.21 0 4.25.722 5.879 1.938M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            </div>
        </div>

        <!-- Title -->
        <h2 class="text-2xl font-bold text-center text-strongText">Create an Account</h2>

        <!-- Username -->
        <div>
            <label for="username" class="block mb-1 text-muted">Username</label>
            <input placeholder="Jake" type="text" id="username" name="username" [(ngModel)]="form.username"
                #username="ngModel" class="input input-bordered w-full" required />
            <div *ngIf="username.invalid && username.touched" class="text-red-500 text-xs mt-1">
                Username is required.
            </div>
        </div>

        <!-- Email -->
        <div>
            <label for="email" class="block mb-1 text-muted">Email Address</label>
            <input placeholder="jake@example.com" type="email" id="email" name="email" [(ngModel)]="form.email"
                #email="ngModel" class="input input-bordered w-full" required email />
            <div *ngIf="email.invalid && email.touched" class="text-red-500 text-xs mt-1">
                A valid email address is required.
            </div>
        </div>

        <!-- Password -->
        <div>
            <label for="password" class="block mb-1 text-muted">Password</label>
            <input type="password" id="password" name="password" [(ngModel)]="form.password" #password="ngModel"
                class="input input-bordered w-full" required />
            <div *ngIf="password.invalid && password.touched" class="text-red-500 text-xs mt-1">
                Password is required.
            </div>
        </div>

        <!-- Confirm Password -->
        <div>
            <label for="confirmPassword" class="block mb-1 text-muted">Confirm Password</label>
            <input type="password" id="confirmPassword" name="confirmPassword" [(ngModel)]="form.confirmPassword"
                #confirmPassword="ngModel" class="input input-bordered w-full" required
                [ngClass]="{ 'border-red-500': confirmPassword.invalid && confirmPassword.touched }" />
            <div *ngIf="confirmPassword.invalid && confirmPassword.touched" class="text-red-500 text-xs mt-1">
                Confirming password is required.
            </div>
            <div *ngIf="confirmPassword.value !== form.password && confirmPassword.touched"
                class="text-red-500 text-xs mt-1">
                Passwords do not match.
            </div>
        </div>

        <!-- Submit Button -->
        <button class="btn w-full bg-primary text-white hover:bg-accentOlive" type="submit"
            [disabled]="registerForm.invalid || form.password !== form.confirmPassword">
            Register
        </button>

        <!-- Messages -->
        <p *ngIf="errorMessage" class="text-red-500 text-sm text-center mt-2">{{ errorMessage }}</p>
        <p *ngIf="successMessage" class="text-green-600 text-sm text-center mt-2">{{ successMessage }}</p>
    </form>
</div>