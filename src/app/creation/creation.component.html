<div *ngIf="isLoggedIn">
    <app-header></app-header>

    <div *ngIf="!templateChosen" class="flex h-dvh pt-10 px-10 gap-8">
            <app-template-selector (messageEvent)="receiveTemplate($event)" />
    </div>

    <!-- CV creation interface -->
    <div class="flex h-dvh pt-10 px-10 gap-8" *ngIf="templateChosen">
        <!-- Left: iframe preview -->
        <div class="w-1/2">
            <h2 class="text-2xl font-bold mb-6">Live Preview</h2>
            <p class="text-sm text-gray-500 mb-4">
                See how your CV looks in real-time. Changes on the right will be reflected here.
            </p>
            <iframe src="" class="w-full h-[60vh] border rounded-lg shadow-md"></iframe> <!-- TODO: Set the correct src -->
        </div>

        <!-- Right: add/edit section -->
        <div class="w-1/2 overflow-y-auto max-h-[80vh] pr-2">
            <h2 class="text-2xl font-bold mb-6">Edit Your Sections</h2>
            <p class="text-sm text-gray-500 mb-4">
                Add or customize sections like experience, education, and skills to match your career goals.
            </p>
            <app-add-section [cvTemplateId]="template.id"></app-add-section>
        </div>
    </div>

    <app-footer></app-footer>
</div>

<!-- Not logged in message -->
<div *ngIf="!isLoggedIn" class="text-center py-20 text-lg text-gray-600">
    You should be logged in to create a CV
</div>
